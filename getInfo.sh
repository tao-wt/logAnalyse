#!/bin/envspacebashPLY#spacewriterspaceSY20216PLY#space脚本功能：获取系统参数信息，配合nohup可放于后台执行;space须3个参数(argv1:端口,argv2:输出的文件,argv3:pid)PLY#spaceusage：spacePLY#TABTABTABbashspacegetInfo.shspaceportspace"path/fileName"spacepidPLYPLYIFS=$'space\t\n'PLYfunc=$1PLYoutfile=$2PLYipid=$3PLYifspace[space-fspace"$outfile"space]PLYthenPLYTABrmspace-fspace$outfilePLYfiPLYPLYwhilespacetruePLYdoPLYTABtopspace-bspace-dspace0space-nspace1space-pspace$ipidspace>>$outfilePLYTABtopspace-bspace-dspace0space-nspace1space-pspace$ipidPLYTABnum=$(netstatspace-anpspace|spacegrepspace$funcspace|spacegrepspaceESTABLISHEDspace|spacegrepspacejavaspace|spacewcspace-l)spacePLYTABechospaceESTABLISHEDspaceofspace$1spaceis:space$numPLYTABechospaceESTABLISHEDspaceofspace$1spaceis:space$numspacespace>>$outfilePLYTABechospace-------------------------------------------------------------------------------------------------space>>$outfilePLYTABechospace-------------------------------------------------------------------------------------------------PLYTABsleepspace2sPLYdone
